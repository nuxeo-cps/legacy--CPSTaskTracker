<tal:block define="current_action string:edit;
                   create options/create|nothing;
                   dummy python:request.set('breadcrumb_set',
                                             here.getTaskBreadCrumb(request))">
                    ">
<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master">
  <metal:block fill-slot="base">
    <base href="." tal:attributes="href string:${here/absolute_url}/" />
  </metal:block>
<body>

<metal:block fill-slot="header">
  <tal:block condition="not:create">
    <tal:block replace="python:mcat('_Modify_(object name)_')">
      Modify
    </tal:block>
    «&nbsp;<span tal:replace="here/title_or_id">Title</span>&nbsp;»
  </tal:block>
</metal:block>

<metal:block fill-slot="header_plus" />

<metal:block fill-slot="main"
  tal:define="   submitvalue python:create and mcat('_button_create_') or mcat('_button_modify_');
                 action python:create and 'cpsdocument_create' or 'cps_task_edit';
                 button_valid python:mcat('_button_validate_');
                 button_preview python:mcat('_button_preview_');
                 button_delete python:mcat('_button_delete_');
                 button_move_up python:mcat('_button_move_up_');
                 button_move_down python:mcat('_button_move_down_');
                 button_add python:mcat('_button_add_');
                ">

<!-- BEGINNING OF METADATA PART -->
  <form
      action="cps_task_edit" method="POST"
      enctype="multipart/form-data">

      <metal:block use-macro="here/main_widgets/macros/form">
        <metal:block fill-slot="content">
          <metal:block use-macro="here/main_widgets/macros/form_property">
            <metal:block fill-slot="title"
              tal:content="python:mcat('_prop_title_')">
              Title
            </metal:block>
            <metal:block fill-slot="content">
              <input type="text" name="title" tal:attributes="value here/title" />
            </metal:block>
          </metal:block>
          <metal:block use-macro="here/main_widgets/macros/form_property">
            <metal:block fill-slot="title"
              tal:content="python:mcat('_prop_description_')">
              Description
            </metal:block>
            <metal:block fill-slot="content">
              <textarea name="description:text" rows="5" cols="50" wrap="soft"
                tal:content="here/description"></textarea>
            </metal:block>
          </metal:block>
        </metal:block>
      </metal:block>
      <input class="mainbutton" type="submit"
        tal:attributes="value button_valid" />
    </form>
<!-- END OF META DATA PART -->
</metal:block>
</body>
</html>
</tal:block>
